import"./styles.css";let camera,renderer,scene,controls;function init(){scene=new THREE.Scene;const e=window.innerWidth/(2*window.innerHeight);camera=new THREE.PerspectiveCamera(5,e,.1,1500),camera.position.set(5,0,0),scene.rotation.y=-270*Math.PI/180;const n=new THREE.AmbientLight(16777215,0);scene.add(n);const t=new THREE.DirectionalLight(16777215,0);t.position.set(50,50,100),scene.add(t),(new THREE.GLTFLoader).load("models/neo-v1.glb",(function(e){scene.add(e.scene),gsap.registerPlugin(ScrollTrigger),gsap.to(e.scene.rotation,{scrollTrigger:{trigger:"#trigger",start:"+=150px",end:"+=360px",markers:!0,scrub:!0,toggleActions:"restart pause resume pause"},y:2*Math.PI})}),(e=>{console.log(e.loaded/e.total*100+"% loaded")}),(e=>{console.log(e)})),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,2*window.innerHeight),document.getElementById("c").appendChild(renderer.domElement),controls=new THREE.OrbitControls(camera,renderer.domElement),controls.enableDamping=!0,controls.enableZoom=!1,controls.enablePan=!1}function animate(){requestAnimationFrame(animate),renderer.render(scene,camera)}init(),animate();let videos=document.getElementsByTagName("video");function checkScroll(){let e,n,t,o=videos[0],i=o.offsetLeft,r=o.offsetTop,a=o.offsetWidth,s=o.offsetHeight,d=i+a,c=r+s;e=Math.max(0,Math.min(a,window.pageXOffset+window.innerWidth-i,d-window.pageXOffset)),n=Math.max(0,Math.min(s,window.pageYOffset+window.innerHeight-r,c-window.pageYOffset)),t=e*n/(a*s),t>.001&&!o.ended&&o.play()}window.addEventListener("scroll",checkScroll,!1),window.addEventListener("resize",checkScroll,!1);