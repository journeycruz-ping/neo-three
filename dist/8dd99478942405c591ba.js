import"./styles.css";let camera,renderer,scene,controls;const mouse=new THREE.Vector2,target=new THREE.Vector2,windowHalf=new THREE.Vector2(window.innerWidth/2,window.innerHeight/2);function init(){scene=new THREE.Scene;const e=window.innerWidth/(2*window.innerHeight);camera=new THREE.PerspectiveCamera(5,e,.1,1500),camera.position.set(5,0,0),scene.rotation.y=-270*Math.PI/180;const n=new THREE.AmbientLight(16777215,2);scene.add(n);const r=new THREE.DirectionalLight(16777215,2);r.position.set(50,50,100),scene.add(r),(new THREE.GLTFLoader).load("models/neo-v1.glb",(function(e){scene.add(e.scene),gsap.registerPlugin(ScrollTrigger),gsap.to(e.scene.rotation,{scrollTrigger:{trigger:"#trigger",start:"+=150px",end:"+=360px",markers:!1,scrub:!0,toggleActions:"restart pause resume pause"},y:2*Math.PI})}),(e=>{console.log(e.loaded/e.total*100+"% loaded")}),(e=>{console.log(e)})),(new THREE.GLTFLoader).load("models/bg-boxes-9.glb",(function(e){scene.add(e.scene),gsap.registerPlugin(ScrollTrigger),gsap.to(e.scene.rotation,{scrollTrigger:{trigger:"#trigger",start:"+=150px",end:"+=360px",markers:!1,scrub:!0,toggleActions:"restart pause resume pause"},y:Math.PI})}),(e=>{console.log(e.loaded/e.total*100+"% loaded")}),(e=>{console.log(e)})),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,2*window.innerHeight),document.getElementById("c").appendChild(renderer.domElement),controls=new THREE.OrbitControls(camera,renderer.domElement),controls.enableDamping=!0,controls.enableZoom=!1,controls.enablePan=!1}function animate(){requestAnimationFrame(animate),renderer.render(scene,camera)}function playPauseVideo(){document.querySelectorAll("video").forEach((e=>{e.muted=!0;let n=e.play();void 0!==n&&n.then((n=>{new IntersectionObserver((n=>{n.forEach((n=>{1===n.intersectionRatio||e.paused?e.paused&&e.play():e.pause()}))}),{threshold:.2}).observe(e)}))}))}init(),animate(),playPauseVideo();