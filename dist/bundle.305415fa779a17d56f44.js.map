{"version":3,"file":"bundle.305415fa779a17d56f44.js","mappings":"mBAEA,IAAIA,EACAC,EACAC,EACAC,GAKJ,WACID,EAAQ,IAAIE,MAAMC,MAElB,MACMC,EAASC,OAAOC,YAAmC,EAArBD,OAAOE,aAI3CT,EAAS,IAAII,MAAMM,kBALP,EAK8BJ,EAH7B,GACD,MAGZN,EAAOW,SAASC,IAAI,EAAG,EAAG,GAC1BV,EAAMW,SAASC,GAAK,IAAMC,KAAKC,GAAK,IACpC,MAAMC,EAAU,IAAIb,MAAMc,aAAa,SAAU,GACjDhB,EAAMiB,IAAIF,GAEV,MAAMG,EAAQ,IAAIhB,MAAMiB,iBAAiB,SAAU,GACnDD,EAAMT,SAASC,IAAI,GAAI,GAAI,KAC3BV,EAAMiB,IAAIC,IAEK,IAAIhB,MAAMkB,YAClBC,KACH,qBACA,SAASC,GAELtB,EAAMiB,IAAIK,EAAKtB,OAEfuB,KAAKC,eAAeC,eAEpBF,KAAKG,GAAGJ,EAAKtB,MAAMW,SAAU,CACzBgB,cAAe,CACXC,QAAS,WACTC,MAAO,UACPC,IAAK,UACLC,SAAS,EACTC,OAAO,EACPC,cAAe,8BAEnBrB,EAAa,EAAVC,KAAKC,IAEhB,IACCoB,IACGC,QAAQC,IAAKF,EAAIG,OAASH,EAAII,MAAS,IAAM,WAAW,IAE3DC,IACGJ,QAAQC,IAAIG,EAAM,IAI1BxC,EAAW,IAAIG,MAAMsC,cAAc,CAC/BC,WAAW,EACXC,OAAO,IAEX3C,EAAS4C,cAActC,OAAOuC,kBAC9B7C,EAAS8C,QAAQxC,OAAOC,WAAiC,EAArBD,OAAOE,aAC3CuC,SAASC,eAAe,KAAKC,YAAYjD,EAASkD,YAElDhD,EAAW,IAAIC,MAAMgD,cAAcpD,EAAQC,EAASkD,YACpDhD,EAASkD,eAAgB,EACzBlD,EAASmD,YAAa,EACtBnD,EAASoD,WAAY,CAEzB,CA/DAC,GAiEA,SAASC,IACLC,sBAAsBD,GAEtBxD,EAAS0D,OAAOzD,EAAOF,EAC3B,CApEAyD,GAsEA,IAAIG,EAASZ,SAASa,qBAAqB,SAE3C,SAASC,IACL,IAUIC,EAAUC,EAAUC,EARpBC,EAAQN,EAAO,GAEfO,EAAID,EAAME,WACVtD,EAAIoD,EAAMG,UACVC,EAAIJ,EAAMK,YACVC,EAAIN,EAAMO,aACVC,EAAIP,EAAIG,EACRK,EAAI7D,EAAI0D,EAGZT,EAAWhD,KAAK6D,IAAI,EAAG7D,KAAK8D,IAAIP,EAAG/D,OAAOuE,YAAcvE,OAAOC,WAAa2D,EAAGO,EAAInE,OAAOuE,cAC1Fd,EAAWjD,KAAK6D,IAAI,EAAG7D,KAAK8D,IAAIL,EAAGjE,OAAOwE,YAAcxE,OAAOE,YAAcK,EAAG6D,EAAIpE,OAAOwE,cAE3Fd,EAAUF,EAAWC,GAAYM,EAAIE,GAEjCP,EAjBW,OAiBYC,EAAMc,OAC7Bd,EAAMe,MAGd,CAEA1E,OAAO2E,iBAAiB,SAAUpB,GAAa,GAC/CvD,OAAO2E,iBAAiB,SAAUpB,GAAa,E","sources":["webpack:///./src/script.js"],"sourcesContent":["import \"./styles.css\";\n\nlet camera;\nlet renderer;\nlet scene;\nlet controls;\n\ninit();\nanimate();\n\nfunction init() {\n    scene = new THREE.Scene();\n\n    const fov = 5;\n    const aspect = window.innerWidth / (window.innerHeight * 2);\n    const near = 0.1;\n    const far = 1500;\n\n    camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n    camera.position.set(5, 0, 0);\n    scene.rotation.y = -270 * Math.PI / 180;\n    const ambient = new THREE.AmbientLight(0xffffff, 0);\n    scene.add(ambient);\n\n    const light = new THREE.DirectionalLight(0xffffff, 0);\n    light.position.set(50, 50, 100);\n    scene.add(light);\n\n    const loader = new THREE.GLTFLoader()\n    loader.load(\n        'models/neo-v1.glb',\n        function(gltf) {\n\n            scene.add(gltf.scene)\n\n            gsap.registerPlugin(ScrollTrigger);\n\n            gsap.to(gltf.scene.rotation, {\n                scrollTrigger: {\n                    trigger: \"#trigger\",\n                    start: \"+=150px\",\n                    end: \"+=360px\",\n                    markers: true,\n                    scrub: true,\n                    toggleActions: \"restart pause resume pause\"\n                },\n                y: Math.PI * 2\n            });\n        },\n        (xhr) => {\n            console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n        },\n        (error) => {\n            console.log(error)\n        }\n    )\n\n    renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        alpha: true\n    });\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight * 2);\n    document.getElementById(\"c\").appendChild(renderer.domElement);\n\n    controls = new THREE.OrbitControls(camera, renderer.domElement);\n    controls.enableDamping = true; //拖拉慣性\n    controls.enableZoom = false; //相機變焦移動\n    controls.enablePan = false; //相機平移\n\n}\n\nfunction animate() {\n    requestAnimationFrame(animate);\n    // controls.update();\n    renderer.render(scene, camera);\n}\n\nlet videos = document.getElementsByTagName(\"video\");\n\nfunction checkScroll() {\n    let fraction = 0.001;\n\n    let video = videos[0];\n\n    let x = video.offsetLeft,\n        y = video.offsetTop,\n        w = video.offsetWidth,\n        h = video.offsetHeight,\n        r = x + w, //right\n        b = y + h, //bottom\n        visibleX, visibleY, visible;\n\n    visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n    visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n\n    visible = visibleX * visibleY / (w * h);\n\n    if (visible > fraction && !video.ended) {\n        video.play();\n    }\n\n}\n\nwindow.addEventListener('scroll', checkScroll, false);\nwindow.addEventListener('resize', checkScroll, false);"],"names":["camera","renderer","scene","controls","THREE","Scene","aspect","window","innerWidth","innerHeight","PerspectiveCamera","position","set","rotation","y","Math","PI","ambient","AmbientLight","add","light","DirectionalLight","GLTFLoader","load","gltf","gsap","registerPlugin","ScrollTrigger","to","scrollTrigger","trigger","start","end","markers","scrub","toggleActions","xhr","console","log","loaded","total","error","WebGLRenderer","antialias","alpha","setPixelRatio","devicePixelRatio","setSize","document","getElementById","appendChild","domElement","OrbitControls","enableDamping","enableZoom","enablePan","init","animate","requestAnimationFrame","render","videos","getElementsByTagName","checkScroll","visibleX","visibleY","visible","video","x","offsetLeft","offsetTop","w","offsetWidth","h","offsetHeight","r","b","max","min","pageXOffset","pageYOffset","ended","play","addEventListener"],"sourceRoot":""}